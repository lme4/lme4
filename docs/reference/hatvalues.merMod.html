<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Diagonal elements of the hat matrix — hatvalues.merMod • lme4</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Diagonal elements of the hat matrix — hatvalues.merMod"><meta name="description" content="Returns the values on the diagonal of the hat matrix, which is the
  matrix that transforms the response vector (minus any offset) into the
  fitted values (minus any offset).  Note that this method should only
  be used for linear mixed models.  It is not clear if the hat matrix
  concept even makes sense for generalized linear mixed models."><meta property="og:description" content="Returns the values on the diagonal of the hat matrix, which is the
  matrix that transforms the response vector (minus any offset) into the
  fitted values (minus any offset).  Note that this method should only
  be used for linear mixed models.  It is not clear if the hat matrix
  concept even makes sense for generalized linear mixed models."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">lme4</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1-37.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/lmer.html">Fitting Linear Mixed-Effects Models using lme4</a></li>
    <li><a class="dropdown-item" href="../articles/lmerperf.html">lme4 performance tips</a></li>
    <li><a class="dropdown-item" href="../articles/PLSvGLS.html">PLS vs GLS for LMMs</a></li>
    <li><a class="dropdown-item" href="../articles/Theory.html">Computational Methods</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lme4/lme4/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Diagonal elements of the hat matrix</h1>

      <div class="d-none name"><code>hatvalues.merMod.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Returns the values on the diagonal of the hat matrix, which is the
  matrix that transforms the response vector (minus any offset) into the
  fitted values (minus any offset).  Note that this method should only
  be used for linear mixed models.  It is not clear if the hat matrix
  concept even makes sense for generalized linear mixed models.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'merMod'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/influence.measures.html" class="external-link">hatvalues</a></span> <span class="op">(</span><span class="va">model</span>, fullHatMatrix <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <p></p>
<dl><dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>An object of class <code><a href="merMod-class.html">merMod</a></code>.</p></dd>

  <dt id="arg-fullhatmatrix">fullHatMatrix<a class="anchor" aria-label="anchor" href="#arg-fullhatmatrix"></a></dt>
<dd><p>Return full hat matrix (not just diagonal values)?</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Not currently used</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The diagonal elements of the hat matrix.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="lmer.html">lmer</a></span><span class="op">(</span><span class="va">Reaction</span> <span class="op">~</span> <span class="va">Days</span> <span class="op">+</span> <span class="op">(</span><span class="va">Days</span> <span class="op">|</span> <span class="va">Subject</span><span class="op">)</span>, <span class="va">sleepstudy</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/influence.measures.html" class="external-link">hatvalues</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          1          2          3          4          5          6          7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.22930404 0.16972999 0.12682372 0.10058520 0.09101445 0.09811147 0.12187625 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          8          9         10         11         12         13         14 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.16230880 0.21940911 0.29317719 0.22930404 0.16972999 0.12682372 0.10058520 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         15         16         17         18         19         20         21 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.09101445 0.09811147 0.12187625 0.16230880 0.21940911 0.29317719 0.22930404 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         22         23         24         25         26         27         28 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.16972999 0.12682372 0.10058520 0.09101445 0.09811147 0.12187625 0.16230880 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         29         30         31         32         33         34         35 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.21940911 0.29317719 0.22930404 0.16972999 0.12682372 0.10058520 0.09101445 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         36         37         38         39         40         41         42 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.09811147 0.12187625 0.16230880 0.21940911 0.29317719 0.22930404 0.16972999 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         43         44         45         46         47         48         49 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.12682372 0.10058520 0.09101445 0.09811147 0.12187625 0.16230880 0.21940911 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         50         51         52         53         54         55         56 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.29317719 0.22930404 0.16972999 0.12682372 0.10058520 0.09101445 0.09811147 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         57         58         59         60         61         62         63 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.12187625 0.16230880 0.21940911 0.29317719 0.22930404 0.16972999 0.12682372 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         64         65         66         67         68         69         70 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.10058520 0.09101445 0.09811147 0.12187625 0.16230880 0.21940911 0.29317719 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         71         72         73         74         75         76         77 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.22930404 0.16972999 0.12682372 0.10058520 0.09101445 0.09811147 0.12187625 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         78         79         80         81         82         83         84 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.16230880 0.21940911 0.29317719 0.22930404 0.16972999 0.12682372 0.10058520 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         85         86         87         88         89         90         91 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.09101445 0.09811147 0.12187625 0.16230880 0.21940911 0.29317719 0.22930404 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         92         93         94         95         96         97         98 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.16972999 0.12682372 0.10058520 0.09101445 0.09811147 0.12187625 0.16230880 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         99        100        101        102        103        104        105 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.21940911 0.29317719 0.22930404 0.16972999 0.12682372 0.10058520 0.09101445 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        106        107        108        109        110        111        112 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.09811147 0.12187625 0.16230880 0.21940911 0.29317719 0.22930404 0.16972999 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        113        114        115        116        117        118        119 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.12682372 0.10058520 0.09101445 0.09811147 0.12187625 0.16230880 0.21940911 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        120        121        122        123        124        125        126 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.29317719 0.22930404 0.16972999 0.12682372 0.10058520 0.09101445 0.09811147 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        127        128        129        130        131        132        133 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.12187625 0.16230880 0.21940911 0.29317719 0.22930404 0.16972999 0.12682372 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        134        135        136        137        138        139        140 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.10058520 0.09101445 0.09811147 0.12187625 0.16230880 0.21940911 0.29317719 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        141        142        143        144        145        146        147 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.22930404 0.16972999 0.12682372 0.10058520 0.09101445 0.09811147 0.12187625 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        148        149        150        151        152        153        154 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.16230880 0.21940911 0.29317719 0.22930404 0.16972999 0.12682372 0.10058520 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        155        156        157        158        159        160        161 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.09101445 0.09811147 0.12187625 0.16230880 0.21940911 0.29317719 0.22930404 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        162        163        164        165        166        167        168 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.16972999 0.12682372 0.10058520 0.09101445 0.09811147 0.12187625 0.16230880 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        169        170        171        172        173        174        175 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.21940911 0.29317719 0.22930404 0.16972999 0.12682372 0.10058520 0.09101445 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        176        177        178        179        180 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.09811147 0.12187625 0.16230880 0.21940911 0.29317719 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Douglas Bates, Martin Maechler, Ben Bolker, Steven Walker.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2</p> and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9007.</p>
</div>

    </footer></div>





  </body></html>

